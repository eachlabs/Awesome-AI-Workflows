
{
    "name": "AI Dubbing with Lipsync",
    "description": "AI dubbing with lipsync aligns translated speech with lip movements, making content feel more natural.",
    "nodes_json": "[{\"id\":\"0\",\"type\":\"inputNode\",\"data\":{\"title\":\"Inputs\",\"description\":\"Add Inputs\",\"type\":\"input\",\"step\":1,\"inputs\":[{\"inputId\":\"0\",\"type\":\"video\",\"variableName\":\"video\",\"defaultValue\":\"https://storage.googleapis.com/1019uploads/c50f4d2c-c13c-4345-9885-6fcd1773dfa7.mp4\",\"required\":false},{\"inputId\":\"1\",\"type\":\"string\",\"variableName\":\"language\",\"defaultValue\":\"es\",\"required\":false}],\"selected\":true},\"position\":{\"x\":0,\"y\":50},\"width\":150,\"height\":40,\"positionAbsolute\":{\"x\":0,\"y\":50}},{\"id\":\"1\",\"data\":{\"model\":{\"id\":76,\"title\":\"Video Convert\",\"type\":\"inference\",\"source\":{\"name\":\"1019Model\",\"icon_url\":\"https://console.eachlabs.ai/img/logo/logo-dark-full.png\"},\"name\":\"toolkit\",\"slug\":\"toolkit\",\"thumbnail_url\":\"https://storage.googleapis.com/magicpoint/thumbs/video-convert-thumb.webp\",\"description\":\"Video toolkit â€“ convert, make GIFs, extract audio\",\"version\":\"0.0.1\",\"category\":{\"id\":49,\"name\":\"Video\",\"slug\":\"video\"},\"gpu_device_id\":{\"full_name\":\"CPU Small 10GB\",\"price\":0.0006},\"inputs\":{\"task\":{\"name\":\"task\",\"type\":\"string\",\"title\":\"task\",\"component\":\"select\",\"order\":0,\"description\":\"An enumeration.\",\"default\":\"\",\"minimum\":0,\"maximum\":0,\"required\":true,\"flow_type\":\"string\",\"options\":\"convert_input_to_mp4,convert_input_to_gif,extract_video_audio_as_mp3,zipped_frames_to_mp4,zipped_frames_to_gif,extract_frames_from_input,reverse_video,bounce_video\",\"value\":\"extract_video_audio_as_mp3\"},\"input_file\":{\"name\":\"input_file\",\"type\":\"string\",\"title\":\"Input File\",\"component\":\"file\",\"order\":1,\"description\":\"File â€“ zip, image or video to process\",\"default\":\"\",\"minimum\":0,\"maximum\":0,\"required\":true,\"flow_type\":\"string\",\"options\":\"\",\"value\":\"{{workflow.parameters.video}}\"},\"fps\":{\"name\":\"fps\",\"type\":\"integer\",\"title\":\"Fps\",\"component\":\"input\",\"order\":2,\"description\":\"frames per second, if relevant. Use 0 to keep original fps (or use default). Converting to GIF defaults to 12fps\",\"default\":\"0\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"integer\",\"options\":\"\",\"value\":\"30\"}},\"output_type\":\"video\",\"flow_output_type\":\"video\",\"output_object_key\":false,\"average_response_time\":30},\"step\":2,\"selected\":false},\"type\":\"modelNode\",\"width\":1,\"height\":1,\"position\":{\"x\":0,\"y\":170},\"positionAbsolute\":{\"x\":0,\"y\":170}},{\"id\":\"2\",\"data\":{\"model\":{\"id\":24,\"title\":\"Voice to Text\",\"type\":\"inference\",\"source\":{\"name\":\"1019Model\",\"icon_url\":\"https://console.eachlabs.ai/img/logo/logo-dark-full.png\"},\"name\":\"incredibly-fast-whisper\",\"slug\":\"incredibly-fast-whisper\",\"thumbnail_url\":\"https://storage.googleapis.com/magicpoint/models/incredibly-fast-whisper.webp\",\"description\":\"whisper-large-v3, incredibly fast, powered by Hugging Face Transformers! ðŸ¤—\",\"version\":\"0.0.1\",\"category\":{\"id\":47,\"name\":\"Text\",\"slug\":\"text\"},\"gpu_device_id\":{\"full_name\":\"A40 48GB\",\"price\":0.001},\"inputs\":{\"audio\":{\"name\":\"audio\",\"type\":\"string\",\"title\":\"Audio\",\"component\":\"file\",\"order\":0,\"description\":\"Audio file\",\"default\":\"\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"voice\",\"options\":\"\",\"value\":\"{{step1.output}}\"},\"task\":{\"name\":\"task\",\"type\":\"string\",\"title\":\"task\",\"component\":\"select\",\"order\":1,\"description\":\"An enumeration.\",\"default\":\"transcribe\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"string\",\"options\":\"transcribe\",\"value\":\"transcribe\"},\"language\":{\"name\":\"language\",\"type\":\"string\",\"title\":\"language\",\"component\":\"select\",\"order\":2,\"description\":\"An enumeration.\",\"default\":\"None\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"string\",\"options\":\"None,afrikaans,albanian,amharic,arabic,armenian,assamese,azerbaijani,bashkir,basque,belarusian,bengali,bosnian,breton,bulgarian,cantonese,catalan,chinese,croatian,czech,danish,dutch,english,estonian,faroese,finnish,french,galician,georgian,german,greek,gujarati,haitian creole,hausa,hawaiian,hebrew,hindi,hungarian,icelandic,indonesian,italian,japanese,javanese,kannada,kazakh,khmer,korean,lao,latin,latvian,lingala,lithuanian,luxembourgish,macedonian,malagasy,malay,malayalam,maltese,maori,marathi,mongolian,myanmar,nepali,norwegian,nynorsk,occitan,pashto,persian,polish,portuguese,punjabi,romanian,russian,sanskrit,serbian,shona,sindhi,sinhala,slovak,slovenian,somali,spanish,sundanese,swahili,swedish,tagalog,tajik,tamil,tatar,telugu,thai,tibetan,turkish,turkmen,ukrainian,urdu,uzbek,vietnamese,welsh,yiddish,yoruba\",\"value\":\"None\"},\"batch_size\":{\"name\":\"batch_size\",\"type\":\"integer\",\"title\":\"Batch Size\",\"component\":\"input\",\"order\":3,\"description\":\"Number of parallel batches you want to compute. Reduce if you face OOMs.\",\"default\":\"24\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"integer\",\"options\":\"\",\"value\":\"24\"},\"timestamp\":{\"name\":\"timestamp\",\"type\":\"string\",\"title\":\"timestamp\",\"component\":\"select\",\"order\":4,\"description\":\"An enumeration.\",\"default\":\"chunk\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"string\",\"options\":\"chunk,word\",\"value\":\"chunk\"},\"diarise_audio\":{\"name\":\"diarise_audio\",\"type\":\"boolean\",\"title\":\"Diarise Audio\",\"component\":\"checkbox\",\"order\":5,\"description\":\"Use Pyannote.audio to diarise the audio clips. You will need to provide hf_token below too.\",\"default\":false,\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"boolean\",\"options\":\"\",\"value\":\"\"},\"hf_token\":{\"name\":\"hf_token\",\"type\":\"string\",\"title\":\"Hf Token\",\"component\":\"input\",\"order\":6,\"description\":\"Provide a hf.co/settings/token for Pyannote.audio to diarise the audio clips. You need to agree to the terms in 'https://huggingface.co/pyannote/speaker-diarization-3.1' and 'https://huggingface.co/pyannote/segmentation-3.0' first.\",\"default\":\"\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"string\",\"options\":\"\",\"value\":\"\"}},\"output_type\":\"code\",\"flow_output_type\":\"string\",\"output_object_key\":\"text\",\"average_response_time\":15},\"step\":3,\"selected\":false},\"type\":\"modelNode\",\"width\":1,\"height\":1,\"position\":{\"x\":0,\"y\":290},\"positionAbsolute\":{\"x\":0,\"y\":290}},{\"id\":\"3\",\"data\":{\"model\":{\"id\":80,\"title\":\"LLAMA 3.1\",\"type\":\"inference\",\"source\":{\"name\":\"1019Model\",\"icon_url\":\"https://console.eachlabs.ai/img/logo/logo-dark-full.png\"},\"name\":\"meta-llama-3.1-405b-instruct\",\"slug\":\"meta-llama-3-1-405b-instruct\",\"thumbnail_url\":\"https://storage.googleapis.com/magicpoint/thumbs/meta-logo.webp\",\"description\":\"Meta's flagship 405 billion parameter language model, fine-tuned for chat completions\",\"version\":\"0.0.1\",\"category\":{\"id\":47,\"name\":\"Text\",\"slug\":\"text\"},\"gpu_device_id\":{\"full_name\":\"A100 40GB\",\"price\":0.0015},\"inputs\":{\"prompt\":{\"name\":\"prompt\",\"type\":\"string\",\"title\":\"Prompt\",\"component\":\"input\",\"order\":0,\"description\":\"Prompt\",\"default\":\"\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"string\",\"options\":\"\",\"value\":\"{{step2.output}}\"},\"system_prompt\":{\"name\":\"system_prompt\",\"type\":\"string\",\"title\":\"System Prompt\",\"component\":\"input\",\"order\":1,\"description\":\"System prompt to send to the model. This is prepended to the prompt and helps guide system behavior. Ignored for non-chat models.\",\"default\":\"You are a helpful assistant.\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"string\",\"options\":\"\",\"value\":\"Act as a translator. You will be translate for the target language. Target language code is \\n {{workflow.parameters.language}}\\n\\nJust respond in target language and write just result. Don't add anything else. No explanation!\\n\\nJUST TRANSLATE. \"},\"min_tokens\":{\"name\":\"min_tokens\",\"type\":\"integer\",\"title\":\"Min Tokens\",\"component\":\"input\",\"order\":2,\"description\":\"The minimum number of tokens the model should generate as output.\",\"default\":\"0\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"integer\",\"options\":\"\",\"value\":\"1\"},\"max_tokens\":{\"name\":\"max_tokens\",\"type\":\"integer\",\"title\":\"Max Tokens\",\"component\":\"input\",\"order\":3,\"description\":\"The maximum number of tokens the model should generate as output.\",\"default\":\"512\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"integer\",\"options\":\"\",\"value\":\"200\"},\"temperature\":{\"name\":\"temperature\",\"type\":\"number\",\"title\":\"Temperature\",\"component\":\"input\",\"order\":4,\"description\":\"The value used to modulate the next token probabilities.\",\"default\":\"0.6\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"number\",\"options\":\"\",\"value\":\"0.6\"},\"top_p\":{\"name\":\"top_p\",\"type\":\"number\",\"title\":\"Top P\",\"component\":\"input\",\"order\":5,\"description\":\"A probability threshold for generating the output. If < 1.0, only keep the top tokens with cumulative probability >= top_p (nucleus filtering). Nucleus filtering is described in Holtzman et al. (http://arxiv.org/abs/1904.09751).\",\"default\":\"0.9\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"number\",\"options\":\"\",\"value\":\"0.9\"},\"top_k\":{\"name\":\"top_k\",\"type\":\"integer\",\"title\":\"Top K\",\"component\":\"input\",\"order\":6,\"description\":\"The number of highest probability tokens to consider for generating the output. If > 0, only keep the top k tokens with highest probability (top-k filtering).\",\"default\":\"50\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"integer\",\"options\":\"\",\"value\":\"50\"},\"presence_penalty\":{\"name\":\"presence_penalty\",\"type\":\"number\",\"title\":\"Presence Penalty\",\"component\":\"input\",\"order\":7,\"description\":\"Presence penalty\",\"default\":\"0\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"number\",\"options\":\"\",\"value\":\"0\"},\"frequency_penalty\":{\"name\":\"frequency_penalty\",\"type\":\"number\",\"title\":\"Frequency Penalty\",\"component\":\"input\",\"order\":8,\"description\":\"Frequency penalty\",\"default\":\"0\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"number\",\"options\":\"\",\"value\":\"0\"},\"stop_sequences\":{\"name\":\"stop_sequences\",\"type\":\"string\",\"title\":\"Stop Sequences\",\"component\":\"input\",\"order\":9,\"description\":\"A comma-separated list of sequences to stop generation at. For example, '<end>,<stop>' will stop generation at the first instance of 'end' or '<stop>'.\",\"default\":\"\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"string\",\"options\":\"\",\"value\":\"\"}},\"output_type\":\"text\",\"flow_output_type\":\"text\",\"output_object_key\":false,\"average_response_time\":0},\"step\":4,\"selected\":false},\"type\":\"modelNode\",\"width\":1,\"height\":1,\"position\":{\"x\":0,\"y\":410},\"positionAbsolute\":{\"x\":0,\"y\":410}},{\"id\":\"4\",\"data\":{\"model\":{\"id\":94,\"title\":\"Voice Cloning\",\"type\":\"inference\",\"source\":{\"name\":\"1019Model\",\"icon_url\":\"https://console.eachlabs.ai/img/logo/logo-dark-full.png\"},\"name\":\"xtts-v2\",\"slug\":\"xtts-v2\",\"thumbnail_url\":\"https://storage.googleapis.com/magicpoint/models/xtts-v2.webp\",\"description\":\"Coqui XTTS-v2: Multilingual Text To Speech Voice Cloning\",\"version\":\"0.0.1\",\"category\":{\"id\":48,\"name\":\"Audio\",\"slug\":\"audio\"},\"gpu_device_id\":{\"full_name\":\"A100 80GB\",\"price\":0.002},\"inputs\":{\"text\":{\"name\":\"text\",\"type\":\"string\",\"title\":\"Text\",\"component\":\"input\",\"order\":0,\"description\":\"Text to synthesize\",\"default\":\"Hello, you are now at Eachlabs AI. If you need any support, just contact us.\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"string\",\"options\":\"\",\"value\":\"{{step3.output}}\"},\"speaker\":{\"name\":\"speaker\",\"type\":\"string\",\"title\":\"Speaker\",\"component\":\"file\",\"order\":1,\"description\":\"Original speaker audio (wav, mp3, m4a, ogg, or flv)\",\"default\":\"\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"string\",\"options\":\"\",\"value\":\"{{step1.output}}\"},\"language\":{\"name\":\"language\",\"type\":\"string\",\"title\":\"language\",\"component\":\"select\",\"order\":2,\"description\":\"An enumeration.\",\"default\":\"en\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"string\",\"options\":\"en,es,fr,de,it,pt,pl,tr,ru,nl,cs,ar,zh,hu,ko,hi\",\"value\":\"{{workflow.parameters.language}}\"},\"cleanup_voice\":{\"name\":\"cleanup_voice\",\"type\":\"boolean\",\"title\":\"Cleanup Voice\",\"component\":\"checkbox\",\"order\":3,\"description\":\"Whether to apply denoising to the speaker audio (microphone recordings)\",\"default\":\"true\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"boolean\",\"options\":\"\",\"value\":\"true\"}},\"output_type\":\"audio\",\"flow_output_type\":\"voice\",\"output_object_key\":false,\"average_response_time\":0},\"step\":5,\"selected\":false},\"type\":\"modelNode\",\"width\":1,\"height\":1,\"position\":{\"x\":0,\"y\":530},\"positionAbsolute\":{\"x\":0,\"y\":530}},{\"id\":\"5\",\"data\":{\"model\":{\"id\":92,\"title\":\"Each LipSync\",\"type\":\"inference\",\"source\":{\"name\":\"eachlipsync\",\"icon_url\":\"https://console.eachlabs.ai/img/logo/logo-dark-full.png\"},\"name\":\"eachlipsync\",\"slug\":\"eachlipsync\",\"thumbnail_url\":\"https://storage.googleapis.com/magicpoint/thumbs/each-lipsync-banner.webp\",\"description\":\"AI LipSync model automatically syncs a character's lip movements with spoken audio, making them match the speech accurately. It's useful in animations, video games, and dubbing to create realistic, in-sync lip movements.\",\"version\":\"0.0.1\",\"category\":{\"id\":49,\"name\":\"Video\",\"slug\":\"video\"},\"gpu_device_id\":{\"full_name\":\"A100 80GB\",\"price\":0.002},\"inputs\":{\"video_url\":{\"name\":\"video_url\",\"type\":\"string\",\"title\":\"Video URL\",\"component\":\"file\",\"order\":0,\"description\":false,\"default\":false,\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"video\",\"options\":false,\"value\":\"{{workflow.parameters.video}}\"},\"audio_url\":{\"name\":\"audio_url\",\"type\":\"string\",\"title\":\"Audio URL\",\"component\":\"file\",\"order\":1,\"description\":false,\"default\":false,\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"audio\",\"options\":false,\"value\":\"{{step4.output}}\"},\"pads\":{\"name\":\"pads\",\"type\":\"string\",\"title\":\"Pads\",\"component\":\"input\",\"order\":2,\"description\":false,\"default\":\"0,0,0,0\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"string\",\"options\":false,\"value\":\"0,0,0,0\"},\"synergizer_strength\":{\"name\":\"synergizer_strength\",\"type\":\"integer\",\"title\":\"Synergizer Strength\",\"component\":\"input\",\"order\":3,\"description\":false,\"default\":\"100\",\"minimum\":0,\"maximum\":0,\"required\":false,\"flow_type\":\"integer\",\"options\":false,\"value\":\"100\"}},\"output_type\":\"video\",\"flow_output_type\":\"video\",\"output_object_key\":false,\"average_response_time\":200},\"step\":6,\"selected\":false},\"type\":\"modelNode\",\"width\":1,\"height\":1,\"position\":{\"x\":0,\"y\":650},\"positionAbsolute\":{\"x\":0,\"y\":650}},{\"id\":\"6\",\"type\":\"outputNode\",\"data\":{\"title\":\"Outputs\",\"description\":\"Add Outputs\",\"type\":\"output\",\"step\":7,\"selected\":false},\"position\":{\"x\":0,\"y\":770},\"width\":150,\"height\":40,\"positionAbsolute\":{\"x\":0,\"y\":770}}]",
    "edges_json": "[{\"id\":\"e_0_1\",\"source\":\"0\",\"target\":\"1\",\"type\":\"addableEdge\",\"animated\":true},{\"id\":\"e_1_2\",\"source\":\"1\",\"target\":\"2\",\"type\":\"addableEdge\",\"animated\":true},{\"id\":\"e_2_3\",\"source\":\"2\",\"target\":\"3\",\"type\":\"addableEdge\",\"animated\":true},{\"id\":\"e_3_4\",\"source\":\"3\",\"target\":\"4\",\"type\":\"addableEdge\",\"animated\":true},{\"id\":\"e_4_5\",\"source\":\"4\",\"target\":\"5\",\"type\":\"addableEdge\",\"animated\":true},{\"id\":\"e_5_6\",\"source\":\"5\",\"target\":\"6\",\"type\":\"addableEdge\",\"animated\":true}]",
    "inputs": [
      {
        "name": "video",
        "type": "video",
        "default_value": "https://storage.googleapis.com/1019uploads/c50f4d2c-c13c-4345-9885-6fcd1773dfa7.mp4"
      },
      {
        "name": "language",
        "type": "string",
        "default_value": "es"
      }
    ],
    "steps": [
      {
        "id": "step1",
        "name": "Video Convert",
        "type": "1019Model",
        "model_slug": "toolkit",
        "model_version": "0.0.1",
        "params": {
          "fps": 30,
          "input_file": "{{workflow.parameters.video}}",
          "task": "extract_video_audio_as_mp3"
        }
      },
      {
        "id": "step2",
        "name": "Voice to Text",
        "type": "1019Model",
        "model_slug": "incredibly-fast-whisper",
        "model_version": "0.0.1",
        "params": {
          "audio": "{{step1.output}}",
          "batch_size": 24,
          "language": "None",
          "task": "transcribe",
          "timestamp": "chunk"
        }
      },
      {
        "id": "step3",
        "name": "LLAMA 3.1",
        "type": "1019Model",
        "model_slug": "meta-llama-3-1-405b-instruct",
        "model_version": "0.0.1",
        "params": {
          "frequency_penalty": 0,
          "max_tokens": 200,
          "min_tokens": 1,
          "presence_penalty": 0,
          "prompt": "{{step2.output}}",
          "system_prompt": "Act as a translator. You will be translate for the target language. Target language code is \n {{workflow.parameters.language}}\n\nJust respond in target language and write just result. Don't add anything else. No explanation!\n\nJUST TRANSLATE. ",
          "temperature": 0.6,
          "top_k": 50,
          "top_p": 0.9
        }
      },
      {
        "id": "step4",
        "name": "Voice Cloning",
        "type": "1019Model",
        "model_slug": "xtts-v2",
        "model_version": "0.0.1",
        "params": {
          "cleanup_voice": true,
          "language": "{{workflow.parameters.language}}",
          "speaker": "{{step1.output}}",
          "text": "{{step3.output}}"
        }
      },
      {
        "id": "step5",
        "name": "Each LipSync",
        "type": "eachlipsync",
        "model_slug": "eachlipsync",
        "model_version": "0.0.1",
        "params": {
          "audio_url": "{{step4.output}}",
          "pads": "0,0,0,0",
          "synergizer_strength": 100,
          "video_url": "{{workflow.parameters.video}}"
        }
      }
    ]
  }